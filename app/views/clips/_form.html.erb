<%= render partial: 'layouts/errors', locals: {object: @clip}  %>
<%= form_for :clip, url: clips_path do |f| %>


<p>
  <%= f.label :title %><br>
  <%= f.text_field(:title, {:class => 'form-control'}) %>
</p>


<p>
  <%= f.label :url %><br>
  <%= f.text_area(:url, {:class => 'form-control'}) %>
</p>

  <div>
    <p>Choose a streamer:</p>
    <%= f.label :streamer %>
      <%= f.collection_select :streamer_id, Streamer.all, :id, :name, include_blank: 'Select One'%>

<p>Or create a new streamer:</p>
      <%= f.fields_for :streamers, @clip.streamers.build do |streamers_fields| %>
          <%= streamers_fields.label :name, "Streamer" %>
          <%= streamers_fields.text_field :name %>
        <% end %>

  <%= Streamer.all.each do |s| %>
  <p>
    <label for="streamer_id_<%= s.id %>"><%= s.name %></label>
    <input type ="checkbox" name="clip[streamer_ids][]" value="<%= s.id %>" id="streamer_id_<%= s.id %>">
  </p>
    <% end %>
<input type="text" id="clip_streamers_attributes_0_name" name="clip[streamers_attributes][0][name]" />
    </div>

<p>
  <%= f.submit({:class => 'btn btn-primary'}) %>
</p>
<% end %>
