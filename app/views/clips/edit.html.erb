<h1>Edit Clip</h1>

<%= form_for :clip, url: clip_path(@clip), method: :patch do |f| %>
<% if @clip.errors.any? %>
<%  @clip.errors.full_messages.each do |msg| %>
<div class ="alert alert-danger"><%= msg %></div>
<% end %>
<% end %>
<p>
  <%= f.label :title %><br>
  <%= f.text_field(:title, {:class => 'form-control'}) %>
</p>

<p>
  <%= f.label :url %><br>
  <%= f.text_area(:url, {:class => 'form-control'}) %>
</p>

<div>
  Streamers:</br />
  <ul>
    <% @clip.streamers.each do |s| %>
    <li><%= s.name %>" Make favorite?:"<%= check_box_tag 'streamer_favorite[]', checked = false, s.favorite, class: 'clip', :favorite => "streamer_favorite_#{s.favorite}" %></li>


    <% end %>

  </ul>
</div>

<div>
  <p>Add a streamer:</p>
  <%= f.label :streamer %>
    <%= f.collection_select :streamer_id, Streamer.all, :id, :name, include_blank: 'Select One'%>
<p>Or create a new streamer:</p>
    <%= f.fields_for :streamers, @clip.streamers.build do |streamers_fields| %>
        <%= streamers_fields.label :name, "Streamer" %>
        <%= streamers_fields.text_field :name %>
      <% end %>
  </div>

<p>
  <%= f.submit({:class => 'btn btn-primary'}) %>
</p>
<% end %>
